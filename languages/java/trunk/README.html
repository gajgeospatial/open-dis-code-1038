<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>README</title>
</head>
<body>
<span style="font-weight: bold;">README.html</span><br>
<br>
<span style="font-weight: bold;">Introduction</span><br>
<br>
This directory contains Java code to implement the
Distributed
Interactive Simulation (DIS) IEEE-1278 standard, which is often used in
military simulations.<br> 
<br>
The protocol
code itself consists of classes that represent Protocol Data Units
(PDUs). These classes have fields, getters, and setters, and are able
to marshal and unmarshal themselves to and from the DIS binary format.
<br>
<br>
Two releases of the code are contained in the supporting packages.
The Java desktop version (edu.nps.moves.dis) includes support for
marshalling to XML, and
for saving PDU data to SQL databases. The mobile version,
edu.nps.moves.dismobile, is intended to
run on the Android Dalek variant of Java, and excludes XML marshalling
and
SQL database support. The Android version does not support the
necessary packages for this, and even if they did the support required
would be pretty heavyweight for a mobile device.<br>
<br>
The code was automatically generated via XMLPG,
a tool that generates
Java, CSharp, Objective-C, and C++ code automatically from an XML
description. The XML description files are contained in this directory;
the canonical versions are saved in the "xml" directory of the
Subversion source code control system for the project at Sourceforge.
So is the XMLPG source code.<br>
<br>
The code also has supporting classes that read and
write PDUs from the network, log PDUs to a file, and more. <br>
<br>
<span style="font-weight: bold;">XML Description File</span><br>
<br>
An XML file that is an abstract description of the protocol classes are
in the DISXXXX.xml files. These files are used by XML Multi-Language
Protocol
Generator
(XMLPG), which is in the source code control system at Sourceforge. The
jar file for XMLPG is contained in the lib directory.<br>
<br>
The XML file is processed by XMLPG and writes the Java
protocol code. The idea is to use the XMLPG tool to get the final
product "close", and then manually modify the source code in subversion
to tweak the last bit. To this end there is a "patches" directory,
which uses the Unix "patch" utility to modify the generated code via
patch files.<br>
<br>
<span style="font-weight: bold;">Java</span><br>
<br>
The Java protocol classes are in the src/main directory, under the
package
edu.nps.moves.dis and edu.nps.moves.dismobile. The code is generated by
XMLPG's ant
build file. To generate the Java code from scratch, type "ant
generateJavaDisSourceCode" or "ant generateJavaMobileSourceCode". This
will generate the code in the above mentioned packages. <br>
<br>
Supporting Java files are in the edu.nps.moves.* directories. These
include classes that unmarshall IEEE 1278.1 files, marshal the code to
XML and SQL, and more.<br>
<span style="font-weight: bold;"><br>
XML Support<br>
</span><br>
The Java Desktop version includes JAXB markup annotations that allow
the PDUs to be marshalled to an XML format. An example of this is
included in the Ant build.xml file, under the task "runXml". A schema
for the generated XML may also be created via the "generateSchema" ant
task. The XML format is useful for archiving, web services, and XMPP.<br>
<br>
<span style="font-weight: bold;">SQL support</span><br>
<br>
The Java Desktop version is also capable of saving PDUs to SQL
databases. This makes is much easier to search and organize saved PDU
traffic.&nbsp; To run, set up a MySQL database, and modify the
connection string in edu/nps/moves/sql/DatabaseConnection.java. Change
the hibernate.connection.username, hibernate.connection.password, and
possibly hibernate.connection.url properties. If the
hiberenate.hbm2ddl.auto property is set to "create-drop", the default,
all tables in the database you are connecting to will be dropped and
re-created. There are connection parameters for Derby and HSQLDB as
well. These are in-memory SQL databases that do not require as much
setup as MySQL, but also don't scale as well. They are generally more
appropriate for stand-alone applications that can't depend on an
existing MySQL server being present.<br>
<br>
To run the MySQL version, type "ant runSql". <br>
<br>
<span style="font-weight: bold;">Using the Java Version</span><br>
<br>
To use the Java release, you must include the open-dis_{version}_<version-number>.jar
file
in
your project, along with the supporting jar files in the lib
directory.
(The xmlpg.jar file is not needed.)
<br>
<br>
<span style="font-weight: bold;">Release Notes<br>
<br>
</span>The 3.0 release highlights:
<br>
<br>
* CSharp implementation from Peter Smith. He wrote a new xmlpg class to
generate CSharp code.<br>
<br>
* Automated patch application. The Unix patch utility is used to modify
the auotmatically generated code. See the patch directory in the
open-dis
directory. Patches are applied via the ant task "patch". Windows
users&nbsp; need to install cygwin utilities to be able to use patch,
and make some minor changes to the ant build.xml file.<br>
<br>
* Robert Harder has reworked the Java marshal and unmarshal code to use
much more memory efficient NIO classes, which dramatically reduce the
amount of temporary object memory generated.
<br>
<br>
* Sheldon Snyder has contributed dead reckoning algorithms in Java,
available in the edu.nps.moves.deadreckoning package.
<br>
<br>
* Tariq Rashid has contributed an xplane gateway, which reads xplane
flight simulator UDP packets and converts them to DIS. He's also
implemented a KML gateway, which allows low-resolution updates
to markers on Google Earth.
This code is a&nbsp; rough right now--it needs to be cleaned up.
There's no guarantee it works. This is available in the xplane
directory of open-dis<br>
<br>
* xmlpg, which generates the source code, is now included in the
open-dis
lib directory. This allows code to be generated completly withing the
open-dis directory, rather than trying to do cross-directory
builds. See the "generateDisSourceCode" ant target.
<br>
<br>
* Enumerations. The SISO EBV XML document was used to generate Java
enumeration classes. This can be extended as the EBV XML document is
completed. A C++ enumerations project would be a useful project for
some developer. The enumerations are used in several places in the
open-dis code, notably the PduFactory.<br>
<br>
* Unit tests. The Java code has added some JUnit 4.4 unit tests,
primarily to test that post-processing source code patches have been
applied correctly. These can be extended to provide more complete test
coverage.<br>
<br>
4.0 release highlights<br>
<br>
* SQL support. Modified &amp; rationalized repository layout. Added
mobile support in addition to desktop support.<br>
<br>
<span style="font-weight: bold;"><br>
LICENSE</span><br>
<br>
All code is BSD license. See <a href="License.html">License.html</a><br>
<a href="License.html"><span style="font-weight: bold;"></span></a><span
 style="font-weight: bold;"></span><br>
<br>
<br>
<br>
</version-number>
</body>
</html>
